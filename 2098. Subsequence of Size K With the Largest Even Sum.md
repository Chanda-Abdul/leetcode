# [2098. Subsequence of Size K With the Largest Even Sum](https://leetcode.ca/2021-12-21-2098-Subsequence-of-Size-K-With-the-Largest-Even-Sum/)

> You are given an integer array `nums` and an integer `k`. Find the largest even sum of any subsequence of `nums` that has a length of `k`.
>
> Return this sum, or `-1` if such a sum does not exist.
>
> A **subsequence** is an array that can be derived from another array by deleting some or no elements without changing the order of the remaining elements.

## Example 1:
````
Input: nums = [4,1,5,3,1], k = 3
Output: 12

Explanation:
The subsequence with the largest possible even sum is [4,5,3]. It has a sum of 4 + 5 + 3 = 12.
````
## Example 2:
````
Input: nums = [4,6,2], k = 3
Output: 12

Explanation:
The subsequence with the largest possible even sum is [4,6,2]. It has a sum of 4 + 6 + 2 = 12.
````
## Example 3:
````
Input: nums = [1,3,5], k = 1
Output: -1

Explanation:
No subsequence of nums with length 1 has an even sum.
````

## Constraints:
- `1 <= nums.length <= 10^5`
- `0 <= nums[i] <= 10^5`
- `1 <= k <= nums.length`

## Solution
````ts
function largestEvenSum(nums, k) {
  // Sort the array
  nums = nums.sort((a, b) => a - b);

  let evenSum = 0;
  let n = nums.length;

  // calculate the sum of the k largest elements
  for (let i = 0; i < k; i++) {
    evenSum += nums[n - i - 1];
  }

  // case 1: If the sum is even, return it.
  if (evenSum % 2 == 0) {
    return evenSum;
  }

  // case 2: If the sum is odd
  // find the largest odd and even numbers outside the sum
  let oddMaximum = -Infinity;
  let evenMaximum = -Infinity;

  for (let i = 0; i < n - k; ++i) {
    if (nums[i] % 2 === 1) {
      oddMaximum = Math.max(oddMaximum, nums[i]);
    } else {
      evenMaximum = Math.max(evenMaximum, nums[i]);
    }
  }

  // find the smallest even and odd numbers within the sum.
  let evenMinimum = Infinity;
  let oddMinimum = Infinity;
  for (let i = n - 1; i >= n - k; --i) {
    if (nums[i] % 2 === 1) {
      oddMinimum = Math.min(oddMinimum, nums[i]);
    } else {
      evenMinimum = Math.min(evenMinimum, nums[i]);
    }
  }

  // Calculate the maximum of the original sum and the adjusted sums
  // by replacing oddMinimum with oddMaximum or evenMinimum with evenMaximum
  evenSum = Math.max(
    -1,
    Math.max(
      evenSum - evenMinimum + oddMaximum,
      evenSum - oddMinimum + evenMaximum
    )
  );

  // If the final sum is even, return it; otherwise, return -1.
  return evenSum;
}

largestEvenSum([4, 1, 5, 3, 1], 3);
// Output: 12
// Explanation:
// The subsequence with the largest possible even sum is [4,5,3]. It has a sum of 4 + 5 + 3 = 12.

largestEvenSum([4, 6, 2], 3);
// Output: 12
// Explanation:
// The subsequence with the largest possible even sum is [4,6,2]. It has a sum of 4 + 6 + 2 = 12.

largestEvenSum([1, 3, 5], 1);
// Output: -1
// Explanation:
// No subsequence of nums with length 1 has an even sum.

````

## Time & Space Complexity
- The **Time Complexity** is `O(n)`.
- The **Space Complexity** is `0(n)`, where `n` is the length of the string `word`.


###### #Klargest #IBM
