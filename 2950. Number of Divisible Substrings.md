# [2950. Number of Divisible Substrings](https://leetcode.ca/2023-12-28-2950-Number-of-Divisible-Substrings/)

- [`String.fromCharCode()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode) - The `String.fromCharCode()` static method returns a string created from the specified sequence of UTF-16 code units.
- [Remainder (`%`)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Remainder) - The remainder (`%`) operator returns the remainder left over when one operand is divided by a second operand. It always takes the sign of the dividend.
- [Increment (`++`)](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Increment) - The increment (`++`) operator increments (adds one to) its operand and returns the value before or after the increment, depending on where the operator is placed.

#

> Each character of the English alphabet has been mapped to a digit as shown below.
>
> 
> ![](https://fastly.jsdelivr.net/gh/doocs/leetcode@main/solution/2900-2999/2950.Number%20of%20Divisible%20Substrings/images/old_phone_digits.png)
>
> 
> A string is **divisible** if the sum of the mapped values of its characters is divisible by its length.
>
> Given a string `s`, return the number of divisible substrings of `s`.
>
> A **substring** is a contiguous non-empty sequence of characters within a string.

## Example 1:

<table border="1" cellspacing="3" style="border-collapse: separate; text-align: center;">
	<tbody>
		<tr>
			<th style="padding: 5px; border: 1px solid black;">Substring</th>
			<th style="padding: 5px; border: 1px solid black;">Mapped</th>
			<th style="padding: 5px; border: 1px solid black;">Sum</th>
			<th style="padding: 5px; border: 1px solid black;">Length</th>
			<th style="padding: 5px; border: 1px solid black;">Divisible?</th>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">a</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">s</td>
			<td style="padding: 5px; border: 1px solid black;">7</td>
			<td style="padding: 5px; border: 1px solid black;">7</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">d</td>
			<td style="padding: 5px; border: 1px solid black;">2</td>
			<td style="padding: 5px; border: 1px solid black;">2</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">f</td>
			<td style="padding: 5px; border: 1px solid black;">3</td>
			<td style="padding: 5px; border: 1px solid black;">3</td>
			<td style="padding: 5px; border: 1px solid black;">1</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">as</td>
			<td style="padding: 5px; border: 1px solid black;">1, 7</td>
			<td style="padding: 5px; border: 1px solid black;">8</td>
			<td style="padding: 5px; border: 1px solid black;">2</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">sd</td>
			<td style="padding: 5px; border: 1px solid black;">7, 2</td>
			<td style="padding: 5px; border: 1px solid black;">9</td>
			<td style="padding: 5px; border: 1px solid black;">2</td>
			<td style="padding: 5px; border: 1px solid black;">No</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">df</td>
			<td style="padding: 5px; border: 1px solid black;">2, 3</td>
			<td style="padding: 5px; border: 1px solid black;">5</td>
			<td style="padding: 5px; border: 1px solid black;">2</td>
			<td style="padding: 5px; border: 1px solid black;">No</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">asd</td>
			<td style="padding: 5px; border: 1px solid black;">1, 7, 2</td>
			<td style="padding: 5px; border: 1px solid black;">10</td>
			<td style="padding: 5px; border: 1px solid black;">3</td>
			<td style="padding: 5px; border: 1px solid black;">No</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">sdf</td>
			<td style="padding: 5px; border: 1px solid black;">7, 2, 3</td>
			<td style="padding: 5px; border: 1px solid black;">12</td>
			<td style="padding: 5px; border: 1px solid black;">3</td>
			<td style="padding: 5px; border: 1px solid black;">Yes</td>
		</tr>
		<tr>
			<td style="padding: 5px; border: 1px solid black;">asdf</td>
			<td style="padding: 5px; border: 1px solid black;">1, 7, 2, 3</td>
			<td style="padding: 5px; border: 1px solid black;">13</td>
			<td style="padding: 5px; border: 1px solid black;">4</td>
			<td style="padding: 5px; border: 1px solid black;">No</td>
		</tr>
	</tbody>
</table>

````
Input: word = "asdf"
Output: 6

Explanation:
The table above contains the details about every substring of word,
and we can see that 6 of them are divisible.
````
## Example 2:
````
Input: word = "bdh"
Output: 4

Explanation:
The 4 divisible substrings are: "b", "d", "h", "bdh".
It can be shown that there are no other substrings of word that are divisible.
````
## Example 3:
````
Input: word = "abcd"
Output: 6

Explanation:
The 6 divisible substrings are: "a", "b", "c", "d", "ab", "cd".
It can be shown that there are no other substrings of word that are divisible.
````

## Constraints:
- `1 <= word.length <= 2000`
- `word` consists only of lowercase English letters.

## Solution using Hash Table + Prefix Sum + Enumeration
````ts
function countDivisibleSubstrings(word) {
  // data structure to store the mapping between letters and their numerical values.
  let phoneMap = new Map();

  let num = 1;
  let idx = 1;

  for (let i = 97; i < 97 + 26; i++) {
    // iterates through the ASCII codes for lowercase letters ('a' to 'z').
    phoneMap.set(String.fromCharCode(i), num);
    idx++;

    if (idx === 3) {
      idx = 0;
      num++;
    }
  }

  let substrings = 0;
  let wordLength = word.length;

  for (let start = 0; start < wordLength; ++start) {
    // Outer loop to iterate through possible starting positions of substrings.
    let currStringSum = 0;

    for (let end = start; end < wordLength; ++end) {
      // Inner loop to iterate through possible ending positions of substrings.
      currStringSum += phoneMap.get(word[end]);

      let currStringLength = end - start + 1;

      if (currStringSum % currStringLength === 0) {
        ++substrings;
      }
    }
  }

  return substrings;
}

countDivisibleSubstrings('asdf');
// Output: 6
// Explanation:
// The function returns 6 as there are 6 divisible substrings. (see table above)

countDivisibleSubstrings('b');

countDivisibleSubstrings('bdh');
// Output: 4
// Explanation: The 4 divisible substrings are: "b", "d", "h", "bdh".
// It can be shown that there are no other substrings of word that are divisible.

countDivisibleSubstrings('abcd');
// Output: 6
// Explanation: The 6 divisible substrings are: "a", "b", "c", "d", "ab", "cd".
// It can be shown that there are no other substrings of word that are divisible.

````

## Time & Space Complexity
- The **Time Complexity** is `O(10 x n)`.
- The **Space Complexity** is `0(n)`, where `n` is the length of the string `word`.


###### #TwoPointer #HashTable #PrefixSum #Enumeration #IBM
